<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>jQuery-TOC plugin</title>
    <style>
        ol { counter-reset: item; list-style: none; }
        li:before { content: counters(item, ".") " "; counter-increment: item; }
    </style>
</head>
<body>
    <aside class="toc jquery">
        <h4>Table of Contents - with jQuery</h4>
    </aside>

    <aside  class="toc non-jquery">
        <h4>Table of Contents - non-jQuery</h4>
    </aside>

    <main>
        <p data-anchor-id="94jx">
            A plugin that generates table of contents(TOC) dynamically for both jQuery or non-jQuery.
        </p>

        <div class="md-section-divider"></div>

        <h2 data-anchor-id="tr86" id="install">Install</h2>

        <div class="md-section-divider"></div>

        <pre class="prettyprint linenums prettyprinted" data-anchor-id="6vjc"><ol class="linenums"><li class="L0"><code><span class="pln">bower install jquery</span><span class="pun">-</span><span class="pln">toc</span></code></li></ol></pre>

        <div class="md-section-divider"></div>

        <h2 data-anchor-id="cjc2" id="compatibility">Compatibility</h2>

        <ol data-anchor-id="n8gz">
            <li> <strong>non-jQuery</strong>
                version works on <strong>IE9+</strong>
            </li>
            <li>
                <strong>jQuery</strong>
                version works on anywhere with
                <strong>jQuery</strong>
            </li>
        </ol>

        <div class="md-section-divider"></div>

        <h2 data-anchor-id="s3y4" id="showcase">Showcase</h2>

        <p data-anchor-id="ziol">
            <a href="https://idiotwu.me/understanding-es6-promise/" target="_blank">https://idiotwu.me/understanding-es6-promise/</a>
        </p>

        <div class="md-section-divider"></div>

        <h2 data-anchor-id="fvrr" id="usage">Usage</h2>

        <div class="md-section-divider"></div>

        <h3 data-anchor-id="sfn5" id="non-jquery">non-jQuery</h3>

        <div class="md-section-divider"></div>

        <pre class="prettyprint linenums prettyprinted" data-anchor-id="efrh"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="com">// returns an ordered-list of headers in page content</span></code></li><li class="L1"><code class="language-javascript"><span class="kwd">var</span><span class="pln">list </span><span class="pun">=</span><span class="pln">initTOC</span><span class="pun">(</span><span class="pln">options</span><span class="pun">);</span></code></li><li class="L2"><code class="language-javascript"></code></li><li class="L3"><code class="language-javascript"><span class="com">// then you can append it to anywhere you like</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">container</span><span class="pun">.</span><span class="pln">appendChild</span><span class="pun">(</span><span class="pln">list</span><span class="pun">);</span></code></li></ol></pre>

        <div class="md-section-divider"></div>

        <h3 data-anchor-id="0w6u" id="jquery">jQuery</h3>

        <div class="md-section-divider"></div>

        <pre class="prettyprint linenums prettyprinted" data-anchor-id="to8u"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="com">// will append TOC list to target element</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">$</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">).</span><span class="pln">initTOC</span><span class="pun">(</span><span class="pln">options</span><span class="pun">);</span></code></li></ol></pre>

        <div class="md-section-divider"></div>

        <h2 data-anchor-id="tw7y" id="options">Options</h2>

        <div class="md-section-divider"></div>

        <pre class="prettyprint linenums prettyprinted" data-anchor-id="948w"><ol class="linenums"><li class="L0"><code class="language-javascript"><span class="pln">initTOC</span><span class="pun">({</span></code></li><li class="L1"><code class="language-javascript"><span class="pln">selector</span><span class="pun">:</span><span class="pln"></span><span class="str">'h1, h2, h3, h4, h5, h6'</span><span class="pun">,</span></code></li><li class="L2"><code class="language-javascript"><span class="pln">scope</span><span class="pun">:</span><span class="pln"></span><span class="str">'body'</span><span class="pun">,</span></code></li><li class="L3"><code class="language-javascript"><span class="pln">overwrite</span><span class="pun">:</span><span class="pln"></span><span class="kwd">false</span><span class="pun">,</span></code></li><li class="L4"><code class="language-javascript"><span class="pln">prefix</span><span class="pun">:</span><span class="pln"></span><span class="str">'toc'</span></code></li><li class="L5"><code class="language-javascript"><span class="pun">})</span></code></li></ol></pre>

        <ul data-anchor-id="cgfm">
            <li>
                <code>String:selector</code>
                : headers selector, default is
                <code>'h1, h2, h3, h4, h5, h6'</code>
                .
            </li>
            <li>
                <code>String:scope</code>
                : selector to specify elements search scope, default is
                <code>'body'</code>
                .
            </li>
            <li>
                <code>Boolean:overwrite</code>
                : whether to overwrite existed headers' id, default is
                <code>false</code>
                , which means plugin will preserve the existed id property and create a string like
                <code>toc-1</code>
                for those don't have id set.
            </li>
            <li>
                <code>String:prefix</code>
                : string to prepend to id/href property, default is
                <code>'toc'</code>
                , which generates a string like
                <code>toc-0</code>
                .
            </li>
        </ul>

        <div class="md-section-divider"></div>

        <h2 data-anchor-id="fyld" id="license">License</h2>

        <p data-anchor-id="tx67">MIT.</p>
    </main>

    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../src/jquery.toc.js"></script>
    <script src="../src/toc.js"></script>
    <script>
        var options = {
            selector: 'h2, h3, h4',
            scope: 'main'
        };

        // for jQuery version
        $('.toc.jquery').initTOC(options);

        // for non-jQuery version

        var container = document.querySelector('.toc.non-jquery');

        var toc = initTOC(options);

        container.appendChild(toc);
    </script>
</body>
</html>